<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Build with continuous integration | mysite </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Build with continuous integration | mysite ">
      
      
      <link rel="icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/bossbobofather-cpu/noname/blob/main/Library/PackageCache/com.unity.addressables@38fa2290d5f2/Documentation~/ContinuousIntegration.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../logo.svg" alt="mysite">
            mysite
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="addressables-ci">
<h1 id="build-with-continuous-integration">Build with continuous integration</h1>

<p>You can integrate Addressables into your continuous integration (CI) to perform content builds across different environments and team members. When integrating Addressables in CI, consider the following:</p>
<ul>
<li><a href="#configure-custom-content-builders">Content builder configuration</a>: Set up the correct builder for the CI process.</li>
<li><a href="#clean-the-addressables-content-builder-cache">Cache management</a>: Clear cached data to prevent build inconsistencies.</li>
<li><a href="#clean-the-scriptable-build-pipeline-cache">Pipeline optimization</a>: Manage the Scriptable Build Pipeline cache for clean builds.</li>
</ul>
<h2 id="configure-custom-content-builders">Configure custom content builders</h2>
<p>Addressables uses content builders to process and package your project's assets. The system defaults to <code>BuildScriptPackedMode</code> when you call <a href="xref:UnityEditor.AddressableAssets.Settings.AddressableAssetSettings.BuildPlayerContent"><code>AddressableAssetSettings.BuildPlayerContent</code></a>. This method automatically uses the <a href="xref:UnityEditor.AddressableAssets.Settings.AddressableAssetSettings.ActivePlayerDataBuilder"><code>ActivePlayerDataBuilder</code></a> setting and executes that builder's <code>BuildDataImplementation</code>.</p>
<h3 id="setting-up-custom-builders-for-continuous-integration">Setting up custom builders for continuous integration</h3>
<p>If you have implemented a custom <a href="xref:UnityEditor.AddressableAssets.Build.IDataBuilder"><code>IDataBuilder</code></a> for CI builds, you need to specify which builder to use:</p>
<ol>
<li>Set the <a href="xref:UnityEditor.AddressableAssets.Settings.AddressableAssetSettings.ActivePlayerDataBuilderIndex"><code>ActivePlayerDataBuilderIndex</code></a> property on the <a href="xref:UnityEditor.AddressableAssets.Settings.AddressableAssetSettings"><code>AddressableAssetSettings</code></a> instance.</li>
<li>Access the settings through <a href="xref:UnityEditor.AddressableAssets.AddressableAssetSettingsDefaultObject.Settings"><code>AddressableAssetSettingsDefaultObject.Settings</code></a>.</li>
<li>Use the index that corresponds to thr custom builder's position in the <a href="xref:UnityEditor.AddressableAssets.Settings.AddressableAssetSettings.DataBuilders"><code>DataBuilders</code></a> list.</li>
</ol>
<p>The following code example demonstrates how to configure a custom builder:</p>
<pre><code class="lang-cs" name="sample">
#if UNITY_EDITOR
    using UnityEditor.AddressableAssets;
    using UnityEditor.AddressableAssets.Build;
    using UnityEditor.AddressableAssets.Settings;
    using UnityEngine;

    internal class CustomDataBuilder
    {
        public static void SetCustomDataBuilder(IDataBuilder builder)
        {
            AddressableAssetSettings settings
                = AddressableAssetSettingsDefaultObject.Settings;

            int index = settings.DataBuilders.IndexOf((ScriptableObject)builder);
            if (index &gt; 0)
                settings.ActivePlayerDataBuilderIndex = index;
            else if (AddressableAssetSettingsDefaultObject.Settings.AddDataBuilder(builder))
                settings.ActivePlayerDataBuilderIndex
                    = AddressableAssetSettingsDefaultObject.Settings.DataBuilders.Count - 1;
            else
                Debug.LogWarning($&quot;{builder} could not be found &quot; +
                                 $&quot;or added to the list of DataBuilders&quot;);
        }
    }
#endif

</code></pre><h2 id="clean-the-addressables-content-builder-cache">Clean the Addressables content builder cache</h2>
<p>Cache cleaning prevents CI builds from using outdated files from previous builds, which can cause inconsistent or incorrect build results.</p>
<p>Each <a href="xref:UnityEditor.AddressableAssets.Build.IDataBuilder"><code>IDataBuilder</code></a> implementation includes a <a href="xref:UnityEditor.AddressableAssets.Build.IDataBuilder.ClearCachedData"><code>ClearCachedData</code></a> method that removes files created by that specific builder. For the default <code>BuildScriptPackedMode</code>, this includes:</p>
<ul>
<li>Content catalog files.</li>
<li>Serialized settings files.</li>
<li>Built AssetBundles.</li>
<li>Generated link.xml files.</li>
</ul>
<p>Call <code>IDataBuilder.ClearCachedData</code> as part of your CI process to ensure clean builds that don't rely on artifacts from previous runs.</p>
<h2 id="clean-the-scriptable-build-pipeline-cache">Clean the scriptable build pipeline cache</h2>
<p>The Scriptable Build Pipeline (SBP) creates a build cache in the <code>Library/BuildCache</code> folder to optimize subsequent builds. This cache contains:</p>
<ul>
<li><code>.info</code> files with build metadata.</li>
<li>Hash maps for tracking asset changes.</li>
<li>Type database information.</li>
</ul>
<p>While this cache speeds up development builds by reusing unchanged data, it can cause issues in CI environments where you need completely clean builds.</p>
<p>Call <a href="xref:UnityEditor.Build.Pipeline.Utilities.BuildCache.PurgeCache*"><code>BuildCache.PurgeCache(false)</code></a> in your build scripts to clear the SBP cache. The <code>false</code> parameter skips the confirmation dialog.</p>
<h2 id="platform-considerations">Platform considerations</h2>
<p>When building for multiple platforms in CI, restart Unity for each platform. This ensures that Unity completes script compilation for each target platform before executing build methods via <code>-executeMethod</code>.</p>
<p>Platform switches can trigger domain reloads and script recompilation. If you don't wait for these processes to complete, your build methods might execute with the wrong platform settings or incomplete compilation.</p>
<p>For more information, refer to the Unity User Manual documentation on <a href="https://docs.unity3d.com/Manual/CommandLineArguments.html">Command line arguments</a>.</p>
<h2 id="additional-resources">Additional resources</h2>
<ul>
<li><a href="https://docs.unity3d.com/Manual/CommandLineArguments.html">Command line arguments</a></li>
<li><a href="build-output.html">Build output</a></li>
<li><a href="xref:UnityEditor.AddressableAssets.Build.IDataBuilder"><code>IDataBuilder</code> API reference</a></li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/bossbobofather-cpu/noname/blob/main/Library/PackageCache/com.unity.addressables@38fa2290d5f2/Documentation~/ContinuousIntegration.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
